{"ast":null,"code":"import _classCallCheck from\"/disk2/sitemap-searcher/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/disk2/sitemap-searcher/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/disk2/sitemap-searcher/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/disk2/sitemap-searcher/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import xml2js from'xml2js';import SearchBar from'./searchBar';import Sitemap from'./sitemap';import{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={urls:[],searchTerm:\"\"};_this.onSearch=function(event){var keyword=event.target.value;_this.setState({searchTerm:keyword});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"https://www.smu.edu.sg/sitemap.xml\").then(function(res){return res.text();}).then(function(data){var parser=new xml2js.Parser();var jsondata='';parser.parseString(data,function(err,result){jsondata=result;});_this2.setState({urls:jsondata.urlset.url});});}},{key:\"render\",value:function render(){var _this3=this;var filteredUrls=this.state.urls.filter(function(url){if(_this3.state.searchTerm==\"\")return url;else{return url.loc.toString().includes(_this3.state.searchTerm);}});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SearchBar,{searchTerm:this.state.searchTerm,onSearch:this.onSearch}),/*#__PURE__*/_jsx(Sitemap,{urls:filteredUrls})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/disk2/sitemap-searcher/src/App.js"],"names":["xml2js","SearchBar","Sitemap","Component","App","state","urls","searchTerm","onSearch","event","keyword","target","value","setState","fetch","then","res","text","data","parser","Parser","jsondata","parseString","err","result","urlset","url","filteredUrls","filter","loc","toString","includes"],"mappings":"wiBAAA,MAAOA,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA,OAASC,SAAT,KAA0B,OAA1B,C,gJAEMC,CAAAA,G,+SACJC,K,CAAQ,CACNC,IAAI,CAAE,EADA,CAENC,UAAU,CAAE,EAFN,C,OAKRC,Q,CAAW,SAACC,KAAD,CAAW,CACpB,GAAIC,CAAAA,OAAO,CAAGD,KAAK,CAACE,MAAN,CAAaC,KAA3B,CACA,MAAKC,QAAL,CAAc,CAAEN,UAAU,CAAEG,OAAd,CAAd,EACD,C,gEAGD,4BAAoB,iBAClBI,KAAK,CAAC,oCAAD,CAAL,CACCC,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAACG,IAAD,CAAU,CACd,GAAIC,CAAAA,MAAM,CAAG,GAAInB,CAAAA,MAAM,CAACoB,MAAX,EAAb,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CAEAF,MAAM,CAACG,WAAP,CAAmBJ,IAAnB,CAAyB,SAAUK,GAAV,CAAeC,MAAf,CAAuB,CAC5CH,QAAQ,CAAGG,MAAX,CACH,CAFD,EAGA,MAAI,CAACX,QAAL,CAAc,CAAEP,IAAI,CAAEe,QAAQ,CAACI,MAAT,CAAgBC,GAAxB,CAAd,EACD,CAVD,EAWD,C,sBAGD,iBAAU,iBACR,GAAMC,CAAAA,YAAY,CAAG,KAAKtB,KAAL,CAAWC,IAAX,CAAgBsB,MAAhB,CAAuB,SAAAF,GAAG,CAAI,CACjD,GAAI,MAAI,CAACrB,KAAL,CAAWE,UAAX,EAAyB,EAA7B,CACA,MAAOmB,CAAAA,GAAP,CADA,IAEK,CAEH,MACEA,CAAAA,GAAG,CAACG,GAAJ,CAAQC,QAAR,GAAmBC,QAAnB,CAA4B,MAAI,CAAC1B,KAAL,CAAWE,UAAvC,CADF,CAGD,CACF,CAToB,CAArB,CAWA,mBACE,wCACA,KAAC,SAAD,EAAW,UAAU,CAAE,KAAKF,KAAL,CAAWE,UAAlC,CAA8C,QAAQ,CAAE,KAAKC,QAA7D,EADA,cAEA,KAAC,OAAD,EAAS,IAAI,CAAEmB,YAAf,EAFA,GADF,CAMD,C,iBA7CexB,S,EAiDlB,cAAeC,CAAAA,GAAf","sourcesContent":["import xml2js from 'xml2js';\nimport SearchBar from './searchBar';\nimport Sitemap from './sitemap';\n\nimport { Component } from 'react';\n\nclass App extends Component {\n  state = {\n    urls: [],\n    searchTerm: \"\"\n  }\n\n  onSearch = (event) => {\n    let keyword = event.target.value;\n    this.setState({ searchTerm: keyword} )\n  }\n\n\n  componentDidMount() {\n    fetch(\"https://www.smu.edu.sg/sitemap.xml\")\n    .then(res => res.text())\n    .then((data) => {\n      var parser = new xml2js.Parser();\n      var jsondata = '';\n    \n      parser.parseString(data, function (err, result) {\n          jsondata = result;\n      }); \n      this.setState({ urls: jsondata.urlset.url });\n    });\n  }  \n\n\n  render () {\n    const filteredUrls = this.state.urls.filter(url => {\n      if (this.state.searchTerm == \"\")\n      return url;\n      else {\n\n        return (\n          url.loc.toString().includes(this.state.searchTerm)\n        );\n      }\n    });\n\n    return (\n      <>\n      <SearchBar searchTerm={this.state.searchTerm} onSearch={this.onSearch} />\n      <Sitemap urls={filteredUrls} />\n      </>\n    );\n  }  \n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}